---
import { StoryblokComponent } from "@storyblok/astro";
import Event from "./event.astro";
const { blok } = Astro.props;

// Si los eventos vienen embebidos en el page, filtramos/ordenamos aquí también:
const now = new Date();
const events = blok.eventList 

console.log("events", events);
console.log("blok", blok);
---

<section class="max-w-7xl mx-auto px-6 py-10 ">
  <h1 class="text-3xl font-semibold mb-6 text-center">{blok.title || "Próximas actuaciones"}</h1>
  {blok.intro && <div class="prose max-w-3xl mb-8" innerHTML={blok.intro} />}

  {events.length === 0 ? (
    <p class="text-gray-600">Pronto anunciaremos nuevas fechas.</p>
  ) : (
    <ul class="grid grid-cols-1 md:grid-cols-1 gap-6 max-w-3xl m-auto">
      {events.map(ev => (
        <li><Event blok={ev} /></li>
      ))}
    </ul>
  )}
</section> 
